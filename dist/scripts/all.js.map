{"version":3,"sources":["common.js","details.js","lunbo.js","shoplist.js"],"names":["_","selector","ele","document","querySelectorAll","length","_ajax","url","Promise","resolve","reject","xhr","XMLHttpRequest","open","send","onload","status","response","_jsonp","cb","randomName","Date","now","script","createElement","test","src","body","appendChild","remove","window","res","_slice","args","Array","prototype","slice","call","_removeClass","dom","className","replace","oSmall","getElementById","oBig","oFrame","oBig_img","children","onmouseover","style","display","onmouseout","onmousemove","event","e","nLeft","offsetX","nTop","offsetY","maxLeft","offsetWidth","maxTop","offsetHeight","left","top","propX","propY","index","prve_index","$slides","$","$pagewrarp","maxIndex","on","next","prve","changeClass","eq","addClass","siblings","removeClass","end","hide","stop","fadeIn","initPagination","i","$span","append","toIndex","target","srcElement","banner_timer","setInterval","hover","clearInterval","pageNum","ajax","type","async","dataType","success","arr","html","pro","FileName","price_mobile","OriginalPrice","Name","LimitCount","Unit"],"mappings":"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","file":"all.js","sourcesContent":["// 通用的工具 ;\r\n// 通用的函数封装。\r\n\r\nfunction _(selector){\r\n    var ele = document.querySelectorAll(selector);\r\n    if(ele.length == 0) return null;\r\n    return  ele.length == 1 ? ele[0] : ele; \r\n}\r\nfunction _ajax(url){\r\n    return new Promise(function(resolve , reject){\r\n          var xhr = new XMLHttpRequest();\r\n          xhr.open(\"GET\", url);\r\n          xhr.send(null);\r\n          xhr.onload = function(){\r\n                if(xhr.status === 200){\r\n                      resolve(xhr.response);\r\n                }\r\n          }\r\n    })\r\n}\r\nfunction _jsonp(url , cb){\r\n    return new Promise(function( resolve , reject ){\r\n          cb = cb ? cb : \"callback\";\r\n          var randomName = \"cb\"+Date.now();\r\n          var script = document.createElement(\"script\");\r\n          url += (/\\?/.test(url) ? \"&\" : \"?\") + `${cb}=${randomName}`;\r\n          script.src = url;\r\n          document.body.appendChild(script);\r\n          script.onload = function(){\r\n                this.remove();\r\n          }\r\n          window[randomName] = function(res){\r\n                resolve(res)\r\n          }\r\n    })\r\n}\r\n// 兼容型伪数组转换成真数组;\r\nfunction _slice(args){\r\n    return Array.prototype.slice.call(args);\r\n}\r\n\r\nfunction _removeClass(dom , className){\r\n    return  dom.className = dom.className.replace(className, \"\");\r\n}","\r\n\t\t    var oSmall = document.getElementById(\"small\");\r\n\t\t    var oBig = document.getElementById(\"big\");\r\n\t\t    var oFrame = document.getElementById(\"frame\");\r\n\t\t    var oBig_img = oBig.children[0];\r\n\t\t    oSmall.onmouseover = function(){\r\n\t\t        oBig.style.display = \"block\";\r\n\t\t        oFrame.style.display = \"block\";\r\n\t\t    }\r\n\t\t    oSmall.onmouseout = function(){\r\n\t\t        oBig.style.display = \"none\";\r\n\t\t        oFrame.style.display = \"none\";\r\n\t\t    }\r\n\t\t    oSmall.onmousemove = function(event){\r\n\t\t        var e = event || window.event;\r\n\t\t        var nLeft = e.offsetX - 50;\r\n\t\t        var nTop = e.offsetY - 50;\r\n\t\t        if(nLeft <= 0){\r\n\t\t            nLeft = 0;\r\n\t\t        }\r\n\t\t        if(nTop <= 0){\r\n\t\t            nTop = 0;\r\n\t\t        }\r\n\t\t        var maxLeft = oSmall.offsetWidth - oFrame.offsetWidth;\r\n\t\t        if(nLeft >= maxLeft){\r\n\t\t            nLeft = maxLeft\r\n\t\t        }\r\n\t\t        var maxTop = oSmall.offsetHeight - oFrame.offsetHeight;\r\n\t\t        if(nTop >= maxTop){\r\n\t\t            nTop = maxTop;\r\n\t\t        }\r\n\t\t        oFrame.style.left = nLeft + \"px\";\r\n\t\t        oFrame.style.top = nTop + \"px\";  \r\n\t\t        \r\n\t\t        // 计算比例;\r\n\t\t        var propX = oBig.offsetWidth / oFrame.offsetWidth;\r\n\t\t        // 根据比例算出位移值;\r\n\t\t        oBig_img.style.left = -nLeft * propX + \"px\";\r\n\t\t        var propY = oBig.offsetHeight / oFrame.offsetHeight;\r\n\t\t        oBig_img.style.top = -nTop * propY + \"px\";\r\n\t\t    }\r\n\t\t\r\n\t\t    ","var index = 0;    \r\n// 选中所有的图片;\r\n\r\nvar prve_index = 0;\r\n// 图片\r\nvar $slides = $(\".slide\");\r\n  //按钮包裹\r\n  var $pagewrarp = $(\".pagination\");\r\n\r\n\r\nvar maxIndex = $slides.length - 1;\r\n\r\n// 什么是轮播图就是控制 index 自增自减 及 范围的一个小特效;\r\n\r\n$(\"#right\").on(\"click\", next) ;\r\n$(\"#left\").on(\"click\", prve) ;\r\n\r\n// 切换下一张图片;\r\nfunction next(){\r\n      prve_index = index;\r\n      if(index == maxIndex){\r\n            // alert(\"最后一张图片了,后面没有了\");\r\n            index = 0;\r\n            changeClass();\r\n            return false;\r\n      }\r\n      index ++;\r\n      changeClass();\r\n}\r\nfunction prve(){\r\n      prve_index = index;\r\n      if(index == 0){\r\n            // alert(\"最后一张图片了,后面没有了\")\r\n            index = maxIndex;\r\n            changeClass();\r\n            return false;\r\n      }\r\n      index --;\r\n      changeClass();\r\n}\r\n\r\n// 当我们在切换图片的时候，只不过是在操作 index;\r\n\r\n\r\nfunction changeClass(){\r\n\r\n      $slides.eq(prve_index).addClass(\"slide-willhide\")\r\n      .siblings(\".slide\")\r\n      .removeClass(\"slide-willhide\")\r\n\r\n      $slides.eq(index).addClass(\"slide-show\")\r\n      .siblings(\".slide\")\r\n      .removeClass(\"slide-show\")\r\n      // 动画效果;\r\n      .end()\r\n      // 给上一张图片加上class willhide;\r\n      .hide()\r\n      .stop()\r\n      .fadeIn();\r\n\r\n      $pagewrarp.children().eq(index).addClass(\"active\")\r\n      .siblings(\"span\").removeClass(\"active\");\r\n}\r\n\r\n   function initPagination(){\r\n         //创建$slides 数量的按钮\r\n         for(var i = 0; i<$slides.length; i++){\r\n\r\n             var $span = $(\"<span>\");\r\n\r\n             if(i==index){\r\n                $span.addClass(\"active\");\r\n             }\r\n            $pagewrarp.append( $span);\r\n\r\n\r\n         }\r\n         initPagination();\r\n   }\r\n\r\n   //事件委托  =>委托给小按钮的父级；\r\n   $pagewrarp.on(\"mouseover\",\"span\",toIndex)\r\n            \r\n            function toIndex(event){\r\n                  //获取当前元素的下标\r\n             //获取事件源（获取当前发生事件的元素）\r\n            var e = event || window.event;\r\n            var target = e.target || e.srcElement;\r\n             // jquery 提供了一个 index() 方法\r\n       \r\n             prve_index =  index;\r\n           index =  $pagewrarp.children().index(target);\r\n                     \r\n                    changeClass();     \r\n\r\n            }\r\n            var banner_timer = setInterval('$(\"#right\").trigger(\"click\")',5000)\r\n\r\n            //用户体验的完善\r\n            $(\".container\").hover(function(){\r\n                  clearInterval(banner_timer);\r\n            },function(){\r\n                  banner_timer = setInterval('$(\"#right\").trigger(\"click\")',5000)\r\n            })","\r\n   var index = 1;\r\n   var pageNum = 40;\r\n\r\n   $.ajax({\r\n        type:\"get\",\r\n\r\n        url:\"data.json\",\r\n\r\n        async:true,\r\n\r\n        dataType:\"json\",\r\n        success : function(arr){\r\n            var html = \"\";\r\n         for( var i = (index-1)*pageNum ; i < index*pageNum ; i++ ){\r\n\t\t\tvar pro = arr[i];\r\n\t\t\tif( i < arr.length ){\r\n                html +=  ` <a href=\"#\">\r\n                <div class=\"goods-box\">\r\n                <div class=\"good-image\">\r\n                 <img src=\"${pro .FileName}\" alt=\"\">\r\n           </div>\r\n            <div class=\"good-price\">\r\n                <span>￥${pro.price_mobile}</span>\r\n                 <s>￥${pro.OriginalPrice}</s>\r\n            </div>\r\n           <div class=\"good-title\">\r\n                 <p>${pro.Name}</p>   \r\n           </div>\r\n           \r\n           <div class=\"good-lenth\">\r\n                 <div>起订:<span>${pro.LimitCount}</span>${pro.Unit}</div>    \r\n             </div>\r\n          \r\n          <div class=\"btn\">即将开始</div>\r\n     </div></a>`\r\n            }\r\n        }\r\n        $(\".container-goodslist\").html(html);\r\n    }\r\n    });\r\n    \r\n\r\n    \r\n  \r\n"]}